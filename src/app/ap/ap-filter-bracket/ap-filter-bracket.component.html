<span [class.menu-open]="menuopen" style="display: inline-block;">
  <button
    mat-button
    color="accent"
    class="mat-button-filter"
    [matMenuTriggerFor]="bmenu"
    [matMenuTriggerData]="{ el: element }"
    (menuOpened)="menuOpen()"
    (menuClosed)="menuClose()"
  >
    {{ element.operator ? element.operator.toString() + " " : "" }}(
  </button>
  <span *ngFor="let el of getElements()">
    <span *ngIf="el.term.isBracket()">
      <sbsdb-ap-filter-bracket
        [element]="el"
        [title]="el.count"
      ></sbsdb-ap-filter-bracket>
      <!--        {{el.operator ? el.operator.toString() + " " : ""}}(-->
      <!--        <span *ngFor="let el2 of getBracketElements(el.term)">-->
      <!--          <sbsdb-ap-filter-element [element]="el2" [title]="el2.count"></sbsdb-ap-filter-element>-->
      <!--        </span>-->
      <!--        )-->
    </span>
    <span *ngIf="!el.term.isBracket()">
      <sbsdb-ap-filter-element [element]="el" [title]="el.count"></sbsdb-ap-filter-element>
    </span>
  </span>
  <button
    mat-button
    color="accent"
    class="mat-button-filter"
    [matMenuTriggerFor]="bmenu"
    [matMenuTriggerData]="{ el: element }"
    (menuOpened)="menuOpen()"
    (menuClosed)="menuClose()"
  >
    )
  </button>
</span>

<mat-menu #bmenu="matMenu">
  <ng-template matMenuContent let-el="el">
    <button mat-menu-item (click)="insert(el)">Ausdruck einfügen</button>
    <button mat-menu-item>Klammer löschen</button>
  </ng-template>
</mat-menu>
