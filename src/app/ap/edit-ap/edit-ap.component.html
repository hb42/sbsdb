<mat-card>
  <div class="input-title card-title">
    {{ ap.apTypBezeichnung }}
  </div>

  <mat-card-content class="fields">
    <!-- umgebende FORM muss die uebergeordnete component bereitstellen -->
    <!--    <div [formGroup]="apFormGroup"></div>-->

    <mat-form-field class="abstand-top abstand textinp">
      <mat-label>AP-Name</mat-label>
      <input matInput [formControl]="nameCtrl" [errorStateMatcher]="matcher" />
      <mat-error *ngIf="nameCtrl.invalid">{{ getErrorMessage(nameCtrl) }}</mat-error>
    </mat-form-field>
    <mat-form-field class="abstand textinp">
      <mat-label>Bezeichnung</mat-label>
      <input matInput [formControl]="bezCtrl" [errorStateMatcher]="matcher" />
      <mat-error *ngIf="bezCtrl.invalid">{{ getErrorMessage(bezCtrl) }}</mat-error>
    </mat-form-field>
    <div class="oe-fields">
      <mat-form-field class="abstand standort textinp">
        <mat-label>Standort</mat-label>
        <select
          matNativeControl
          [formControl]="standCtrl"
          [errorStateMatcher]="matcher"
          (change)="onStandortSelectionChange()"
        >
          <option *ngFor="let o of oeList" [ngValue]="o">
            {{ o.fullname }}
          </option>
        </select>
        <mat-error *ngIf="standCtrl.invalid">{{ getErrorMessage(standCtrl) }}</mat-error>
      </mat-form-field>
      <mat-form-field class="abstand textinp">
        <mat-label>Verantwortliche OE</mat-label>
        <select matNativeControl [formControl]="verantwCtrl" [errorStateMatcher]="matcher">
          <option *ngFor="let o of oeListNull" [ngValue]="o">
            {{ o ? o.fullname : "- bitte ausw√§hlen -" }}
          </option>
        </select>
        <mat-error *ngIf="standCtrl.invalid">{{ getErrorMessage(standCtrl) }}</mat-error>
        <mat-hint align="start">sofern abweichend von Standort</mat-hint>
      </mat-form-field>
    </div>
    <mat-form-field class="abstand bemerkung">
      <mat-label>Bemerkung</mat-label>
      <textarea
        matInput
        [formControl]="bemCtrl"
        cdkTextareaAutosize
        cdkAutosizeMinRows="2"
        cdkAutosizeMaxRows="5"
      ></textarea>
      <mat-error *ngIf="bemCtrl.invalid">{{ getErrorMessage(bemCtrl) }}</mat-error>
    </mat-form-field>
  </mat-card-content>
</mat-card>
